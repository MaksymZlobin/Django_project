{% extends 'base.html' %}

{% block title %}{{article.title}}{% endblock %}

{% block content %}
<br>
<h1 class="card-title text-danger" >{{article.title}}</h1>
<br>
<div class="card" style="width: 70rem; border-width:5px; border-color:#dc143c; background-color:#dc143c;">
  <img class="card-img-top" src="{{article.picture.url}}" alt="picture">
  <div class="card-body">
    <p class="card-text text-dark">{{article.text}}</p>
    <small class="text-warning">{{article.date}}</small>
  </div>
</div>

{% if comments %}

    {% for comment in comments %}
<br>
        <div class="card" style="width: 70rem; border-width:10px; border-color:#ff6347; background-color:#ff6347;">
            <strong class="text-warning">{% if comment.author %}{{ comment.author }}{% else %}Guest{% endif %}</strong>
            <p>{{comment.comment_text}}</p>
            <small class="footer text-warning">{{comment.date}}</small>
        </div>
    {% endfor %}

{% else %}
<p>There are no comments yet! You can be first.</p>
{% endif %}

<br>

<form method="POST" class="post-form" action="{% url 'news:create_comment' article.id %}">{% csrf_token %}
    {% if user.is_authenticated %}
        <h5 class="text-danger">{{ user.email }}</h5>
    {% else %}
        <h5 class="text-danger">Guest</h5>
    {% endif %}
        <p class="text-muted">{{ comment_form.comment_text.label }}:<br>{{ comment_form.comment_text }}</p>
    <button type="submit" class="btn btn-danger">Create comment</button>
</form>

{% endblock %}